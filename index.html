<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="src/css/styles.css">
    <title>Sidebar</title>
</head>
<body>
    <nav id="sidebar">
        <div id="sidebar_content">
            <div id="user">
                <img src="src/images/logo (2).png" id="user_avatar" alt="Avatar">
    
                <p id="user_infos">
                    <span class="item-description">Eficiência</span>
                    <span class="item-description">Solar</span>
                </p>
            </div>
    
            <ul id="side_items">
                <li class="side-item" id="metasEstrategicas">
                    <a href="#">
                        <i class="fa-solid fa-chart-line"></i>
                        <span class="item-description">Metas Estratégicas</span>
                    </a>
                </li>
                <li class="side-item" id="metasTaticas">
                    <a href="#">
                        <i class="fa-solid fa-chart-line"></i>
                        <span class="item-description">Metas Táticas</span>
                    </a>
                </li>
                <li class="side-item" id="Desdobramentotatico">
                    <a href="#">
                        <i class="fa-solid fa-chart-line"></i>
                        <span class="item-description">Desdobramento tático</span>
                    </a>
                </li>
            </ul>
    
            <button id="open_btn">
                <i id="open_btn_icon" class="fa-solid fa-chevron-right"></i>
            </button>
        </div>
    </nav>

    <main id="mainContent">
        <!-- O iframe será exibido aqui -->
    </main>

    <script src="src/javascript/script.js"></script>
    <script>
        // Função para adicionar o iframe de cada dashboard ao clicar nos itens do menu
        function addDashboardToMain(contentId) {
            var mainContent = document.getElementById("mainContent");
            var iframeHtml = '';
            
            // Verifica qual dashboard foi clicado e adiciona o iframe correspondente
            if (contentId === 'metasEstrategicas') {
                iframeHtml = `
                    <div id="closeButton" style="position: absolute; top: 10px; right: 10px; cursor: pointer; background-color: red; color: white; padding: 5px 10px; border-radius: 5px;">Fechar</div>
                    <iframe title="METAS ESTRATEGICAS" width="1024" height="612" src="https://app.powerbi.com/view?r=eyJrIjoiMWExM2Q2YzUtNDM5NC00MDk0LWFiMGEtMTAwNmM0NTMxZjQxIiwidCI6ImIxYWM5M2VjLTMxNmItNDgyZi1iMzM4LTM0NDYwMmM3N2RjYiJ9" frameborder="0" allowfullscreen="true"></iframe>
                `;
            } else if (contentId === 'metasTaticas') {
                iframeHtml = `
                    <div id="closeButton" style="position: absolute; top: 10px; right: 10px; cursor: pointer; background-color: red; color: white; padding: 5px 10px; border-radius: 5px;">Fechar</div>
                    <iframe title="METAS TATICAS" width="1024" height="612" src="https://app.powerbi.com/view?r=eyJrIjoiMjE4YmNiYWQtMGY2Mi00OTg5LWI0MDgtMTUxODdiMTE1OGRlIiwidCI6ImIxYWM5M2VjLTMxNmItNDgyZi1iMzM4LTM0NDYwMmM3N2RjYiJ9" frameborder="0" allowfullscreen="true"></iframe>
                `;
            } else if (contentId === 'Desdobramentotatico') {
                iframeHtml = `
                    <div id="closeButton" style="position: absolute; top: 10px; right: 10px; cursor: pointer; background-color: red; color: white; padding: 5px 10px; border-radius: 5px;">Fechar</div>
                    <iframe title="PRODUTOS" width="1024" height="612" src="https://app.powerbi.com/view?r=eyJrIjoiZDE3YTYzMTgtMWUwZi00MzM5LWExOWYtMzQ3NDZiMWNlODg2IiwidCI6ImIxYWM5M2VjLTMxNmItNDgyZi1iMzM4LTM0NDYwMmM3N2RjYiJ9" frameborder="0" allowfullscreen="true"></iframe>
                `;
            }

            // Adiciona o conteúdo ao main
            mainContent.innerHTML = iframeHtml;

            // Função para fechar o iframe
            document.getElementById("closeButton").addEventListener("click", function() {
                mainContent.innerHTML = '';  // Limpa o conteúdo e esconde o iframe
            });
        }

        // Adicionando o evento de clique para os itens do menu
        document.getElementById("metasEstrategicas").addEventListener("click", function() {
            addDashboardToMain('metasEstrategicas');
        });

        document.getElementById("metasTaticas").addEventListener("click", function() {
            addDashboardToMain('metasTaticas');
        });

        document.getElementById("Desdobramentotatico").addEventListener("click", function() {
            addDashboardToMain('Desdobramentotatico');
        });
    </script>
</body>
</html>
